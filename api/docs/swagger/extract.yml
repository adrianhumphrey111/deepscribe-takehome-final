tags:
  - Patient Data
summary: Extract patient data from medical transcript
description: Uses AI to extract structured patient information from unstructured medical transcripts. Automatically routes between OpenAI and Claude based on transcript complexity.
parameters:
  - name: body
    in: body
    required: true
    schema:
      type: object
      required:
        - transcript
      properties:
        transcript:
          type: string
          description: The medical transcript text to extract patient data from
          example: "45-year-old female patient with history of breast cancer presenting for follow-up. Lives in Boston, MA. Currently taking tamoxifen and has family history of BRCA mutations. Discussing clinical trial options for metastatic disease."
responses:
  200:
    description: Patient data extracted successfully
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: true
        patient_data:
          type: object
          properties:
            age:
              type: integer
              example: 45
            gender:
              type: string
              enum: ["MALE", "FEMALE", "ALL"]
              example: "FEMALE"
            primary_diagnosis:
              type: string
              example: "breast cancer"
            conditions:
              type: array
              items:
                type: string
              example: ["metastatic breast cancer"]
            comorbidities:
              type: array
              items:
                type: string
              example: ["family history of BRCA mutations"]
            medications:
              type: array
              items:
                type: string
              example: ["tamoxifen"]
            allergies:
              type: array
              items:
                type: string
              example: []
            location:
              type: object
              properties:
                city:
                  type: string
                  example: "Boston"
                state:
                  type: string
                  example: "MA"
                zip_code:
                  type: string
                  example: "02101"
            cancer_stage:
              type: string
              example: "Stage IV"
            tumor_markers:
              type: object
              example: {"ER": "positive", "PR": "positive", "HER2": "negative"}
            tumor_size:
              type: string
              example: "2.5 cm"
        confidence_scores:
          type: object
          properties:
            age:
              type: number
              minimum: 0
              maximum: 1
              example: 0.95
            gender:
              type: number
              minimum: 0
              maximum: 1
              example: 0.98
            primary_diagnosis:
              type: number
              minimum: 0
              maximum: 1
              example: 0.92
            conditions:
              type: number
              minimum: 0
              maximum: 1
              example: 0.88
            medications:
              type: number
              minimum: 0
              maximum: 1
              example: 0.90
            location:
              type: number
              minimum: 0
              maximum: 1
              example: 0.85
            overall:
              type: number
              minimum: 0
              maximum: 1
              example: 0.91
        provider_used:
          type: string
          enum: ["openai", "claude"]
          example: "openai"
        extraction_time_ms:
          type: integer
          example: 1250
        error_message:
          type: string
          nullable: true
          example: null
  400:
    description: Invalid request - transcript missing
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error_message:
          type: string
          example: "Transcript is required"
  500:
    description: Internal server error during extraction
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error_message:
          type: string
          example: "Extraction failed: API timeout"
  503:
    description: Service unavailable - API keys not configured
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error_message:
          type: string
          example: "Patient extraction service is not available. Please check your API keys."